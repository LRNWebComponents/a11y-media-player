<link rel="import" href="responsive-utility.html">
<!--
`responsive-utility-nehaviors`
A simpler way to use responsive utility. 

To use in a webcomponent:
1. <link rel="import" href="path/to/responsive-utility/responsive-utility-behaviors.html">
2. behaviors: [ResponsiveUtilityBehaviors]


-->
<script>
    // ensure ResponsiveUtilityBehaviors exists globally before acting on them
    window.ResponsiveUtilityBehaviors = window.ResponsiveUtilityBehaviors || {};
    // create a behavior for elements that have a 'display' connotation
    window.ResponsiveUtilityBehaviors = {
      properties: {
        /*
         * parent size for responsive styling
         */
        responsiveSize: {
          type: String,
          value: 'xs',
          reflectToAttribute: true
        },
        /*
         * acts like an element query instead of @media query
         */
        responsiveToParent: {
          type: Boolean,
          value: true
        },
        /*
         * Miniumum value for small breakpoint
         */
        sm: {
          type: Number,
          value: 600
        },
        /*
         * Miniumum value for medium breakpoint
         */
        md: {
          type: Number,
          value: 900
        },
        /*
         * Miniumum value for large breakpoint
         */
        md: {
          type: Number,
          value: 1200
        },
        /*
         * Miniumum value for extra-large breakpoint
         */
        md: {
          type: Number,
          value: 1500
        },
      },
      /*
        * init the utility & register element
        */
      attached: function(){
        let root = this;
        Polymer.ResponsiveUtility.requestAvailability();
        root.fire('responsive-element',{
          "element": root,
          "sm": root.sm,
          "md": root.md,
          "lg": root.lg,
          "xl": root.xl,
          "responsiveToParent": root.responsiveToParent,
          "attribute": root.attribute
        });
      },
      /*
        * deregister the element
        */
      detached: function(){
        let root = this;
        root.fire('responsive-element-deleted',root);
      },
    };
  </script>