<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icons/av-icons.html">
<link rel="import" href="../iron-icons/hardware-icons.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-tooltip/paper-tooltip.html">

<!--
`a11y-media-number-input`
A LRN element

@demo demo/index.html

@microcopy - the mental model for this element
 -
 -
 -

-->

<dom-module id="a11y-media-number-input">
  <template>
    <style>
      :host {
        margin: 0;
        padding: 0;
        display: inline-flex;
      }
      :host > * {
        display: inline-block;
      }
      :host > #input ::slotted(#container) {
        padding: 3px;
      }
      :host > #input ::slotted(#container > .paper-input-container > .prefix.paper-input-container > iron-icon) {
       
      }
    </style>
    <paper-input 
      aria-label$="[[label]]"
      id="input" 
      no-label-float 
      max$="[[max]]" 
      min$="[[min]]"
      step$="[[step]]"
      type="number">
      <iron-icon icon$="[[icon]]" slot="prefix"></iron-icon>
      <div slot="suffix">[[suffix]]</div>
    </paper-input>
    <paper-tooltip for="input">[[label]]</paper-tooltip>
  </template>

  <script>
    Polymer({

      is: 'a11y-media-number-input',

      properties: {
        /*
         * icon
         */
         icon: {
          type: String,
          value: null,
        },
        /*
         * input label
         */
         label: {
          type: String,
          value: null,
        },
        /*
         * maximum value of input
         */
        max: {
          type: Number,
          value: null,
        },
        /*
         * minimum value of input
         */
        min: {
          type: Number,
          value: null,
        },
        /*
         * increment value by
         */
        step: {
          type: Number,
          value: null,
        },
        /*
         * suffix
         */
         suffix: {
          type: String,
          value: null,
        },
        /*
         * value of input
         */
        defaultValue: {
          type: Number,
          value: null,
        },
        /*
         * value of input
         */
        value: {
          type: Number,
          value: null,
          reflectToAttribute: true,
        },
      },
      // sets initial value and lets player know if that value changes
      attached: function(){
        let root = this;
        root.$.input.value = root.defaultValue;
        root.$.input.addEventListener('change', function(e){
          root.value = root.$.input.value;
          root.fire('input-changed',root.$.input);
        });
      }
    });
  </script>
</dom-module>
